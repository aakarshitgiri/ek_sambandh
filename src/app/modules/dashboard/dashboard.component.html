<div class="dashboard-component">
    <div class="welcom-title">
        <h1>Welcome {{userData.fullname}}</h1>
    </div>
    <div class="dashboard-table">
        <div class="table-top-feature">
            <div class="table-title">
                <h1>Relationship's</h1>
            </div>
            <div class="flex-box">
                <div class="left">
                    <div class="add-sample-btn">
                        <button>View Sample Question</button>
                    </div>
                </div>
                <div class="right">
                    <div class="search-filter">
                        <input type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')"
                            placeholder="Search by partner's name or email">
                    </div>
                    <div class="add-partner-btn">
                        <button>Add Partner</button>
                    </div>
                </div>
            </div>

        </div>
        <div class="table-relationship">
            <p-table #dt [value]="data" [responsive]="true" responsiveLayout="scroll" [paginator]="true" [rows]="10"
                [responsive]="true" [globalFilterFields]="['partner.fullname','partner.email']">
                <ng-template pTemplate="header">
                    <tr>
                        <th *ngFor="let head of tableHeader" [pSortableColumn]="head.header">{{head.header}}<p-sortIcon
                                [field]="head.header"></p-sortIcon></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
                    <tr>
                        <td>{{data.partner.fullname}}</td>
                        <td>{{data.partner.email}}</td>
                        <td>{{'Relationship' + '-' +rowIndex+1}}</td>
                        <td>
                            <div class="flex-box">
                                <div class="status-btn">
                                    <button
                                        (click)="tableButton(data, ('Relationship' + '-' +rowIndex+1))">{{(data.relationshipStatus
                                        === 'Accepted') ?
                                        (data.feeStatus ?
                                        (data.userForm ?
                                        (data.partnerForm ? 'View Results': 'Reminds Partner') :
                                        'Take Test') : 'Pay Fees')
                                        : 'Resent Invitation'}}</button>
                                </div>
                                <div class="delete-btn">
                                    <button (click)="delete(data)">Delete</button>
                                </div>
                            </div>
                        </td>


                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>